<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nmsg: filter.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="nmsg.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">nmsg
   &#160;<span id="projectnumber">0.14.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3af54cfecedfb12761767b16ec9023ab.html">nmsg</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">filter.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Message filtering API.  
<a href="#details">More...</a></p>

<p><a href="filter_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a25fe1f33408a952f6d3b1b966fa261ab"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="res_8h.html#a521756a76fc3efbb2b8fb2b631b87b47">nmsg_res</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filter_8h.html#a25fe1f33408a952f6d3b1b966fa261ab">nmsg_filter_message_fp</a>) (nmsg_message_t *msg, void *user, <a class="el" href="filter_8h.html#a58e7fbf0257050f772b7c1eb6d7a921a">nmsg_filter_message_verdict</a> *vres)</td></tr>
<tr class="memdesc:a25fe1f33408a952f6d3b1b966fa261ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function pointer type for a function that performs message filtering.  <a href="#a25fe1f33408a952f6d3b1b966fa261ab">More...</a><br /></td></tr>
<tr class="separator:a25fe1f33408a952f6d3b1b966fa261ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a58e7fbf0257050f772b7c1eb6d7a921a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filter_8h.html#a58e7fbf0257050f772b7c1eb6d7a921a">nmsg_filter_message_verdict</a> { <br />
&#160;&#160;<a class="el" href="filter_8h.html#a58e7fbf0257050f772b7c1eb6d7a921aa12783ac2e24951de8d24625f3bb7fd8b">nmsg_filter_message_verdict_DECLINED</a>, 
<br />
&#160;&#160;<a class="el" href="filter_8h.html#a58e7fbf0257050f772b7c1eb6d7a921aa3043d42a46897d9394ec9037744f3900">nmsg_filter_message_verdict_ACCEPT</a>, 
<br />
&#160;&#160;<a class="el" href="filter_8h.html#a58e7fbf0257050f772b7c1eb6d7a921aa2436bcfc2882c4d246d531198b91e70e">nmsg_filter_message_verdict_DROP</a>
<br />
 }</td></tr>
<tr class="separator:a58e7fbf0257050f772b7c1eb6d7a921a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Message filtering API. </p>

<p class="definition">Definition in file <a class="el" href="filter_8h_source.html">filter.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a25fe1f33408a952f6d3b1b966fa261ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25fe1f33408a952f6d3b1b966fa261ab">&#9670;&nbsp;</a></span>nmsg_filter_message_fp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="res_8h.html#a521756a76fc3efbb2b8fb2b631b87b47">nmsg_res</a>(* nmsg_filter_message_fp) (nmsg_message_t *msg, void *user, <a class="el" href="filter_8h.html#a58e7fbf0257050f772b7c1eb6d7a921a">nmsg_filter_message_verdict</a> *vres)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function pointer type for a function that performs message filtering. </p>
<p>The filter function should read the message in 'msg' and return a filter verdict in the 'vres' parameter-return variable.</p>
<p>The filter function may alter the message object, or it may replace the message object with an entirely new message. If the filter function replaces the message object, it is responsible for disposing of the old message, for instance by calling <a class="el" href="message_8h.html#af3019263d039d43fd4ac780408d9faf9" title="Destroy a message object and deallocate any resources associated with it. ">nmsg_message_destroy()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">msg</td><td>Pointer to message object.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user</td><td>NULL or a filter-specific user pointer.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">vres</td><td>The filter verdict.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="res_8h.html#a521756a76fc3efbb2b8fb2b631b87b47a686e6e709e9990bb2375b29ee8ac369c" title="success ">nmsg_res_success</a> The filtering completed and returned a verdict in 'vres'. </dd>
<dd>
Any other result to indicate a fatal error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="filter_8h_source.html#l00072">72</a> of file <a class="el" href="filter_8h_source.html">filter.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a58e7fbf0257050f772b7c1eb6d7a921a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58e7fbf0257050f772b7c1eb6d7a921a">&#9670;&nbsp;</a></span>nmsg_filter_message_verdict</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="filter_8h.html#a58e7fbf0257050f772b7c1eb6d7a921a">nmsg_filter_message_verdict</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a58e7fbf0257050f772b7c1eb6d7a921aa12783ac2e24951de8d24625f3bb7fd8b"></a>nmsg_filter_message_verdict_DECLINED&#160;</td><td class="fielddoc"><p>The filter declines to handle this message for an unspecified reason, and processing should proceed as if the filter did not exist. </p>
<p>If part of a filter chain, filtering should proceed to the next filter in the chain. </p>
</td></tr>
<tr><td class="fieldname"><a id="a58e7fbf0257050f772b7c1eb6d7a921aa3043d42a46897d9394ec9037744f3900"></a>nmsg_filter_message_verdict_ACCEPT&#160;</td><td class="fielddoc"><p>The filter declares that this message should be accepted into the output stream. </p>
<p>If part of a filter chain, remaining filters should be short-circuited and the message passed into the output stream. </p>
</td></tr>
<tr><td class="fieldname"><a id="a58e7fbf0257050f772b7c1eb6d7a921aa2436bcfc2882c4d246d531198b91e70e"></a>nmsg_filter_message_verdict_DROP&#160;</td><td class="fielddoc"><p>The filter declares that this message should be dropped from the output stream. </p>
<p>If part of a filter chain, remaining filters should be short-circuited. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="filter_8h_source.html#l00024">24</a> of file <a class="el" href="filter_8h_source.html">filter.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
